{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-ensure-the-deployed-site-serves-a-real-android-apk-binary-at-the-exact-path-assets-primepost-apk-not-an-html-fallback-and-serves-the-metadata-json-at-assets-primepost-apk-meta-json-the-deployed-apk-must-be-at-least-1-mb-and-start-with-the-zip-apk-pk-header-bytes",
      "featureTitle": "Ensure the deployed site serves a real Android APK binary at the exact path `/assets/primepost.apk` (not an HTML fallback), and serves the metadata JSON at `/assets/primepost.apk.meta.json`. The deployed APK must be at least 1 MB and start with the ZIP/APK `PK` header bytes.",
      "files": [
        "frontend/.gitattributes",
        "frontend/src/utils/apkIntegrity.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-1"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-add-a-pre-deploy-staging-step-that-guarantees-frontend-public-assets-primepost-apk-and-frontend-public-assets-primepost-apk-meta-json-exist-and-are-valid-before-deployment-using-the-existing-script-frontend-scripts-stage-android-apk-assets-sh-or-the-platform-equivalent-command-runner-fail-the-build-deploy-if-the-staging-script-fails-validation",
      "featureTitle": "Add a pre-deploy staging step that guarantees `frontend/public/assets/primepost.apk` and `frontend/public/assets/primepost.apk.meta.json` exist and are valid before deployment, using the existing script `frontend/scripts/stage-android-apk-assets.sh` (or the platform-equivalent command runner). Fail the build/deploy if the staging script fails validation.",
      "files": [
        "frontend/docs/android-apk-build.md",
        "frontend/scripts/predeploy-stage-apk-assets.sh",
        "frontend/scripts/stage-android-apk-assets.ps1",
        "frontend/scripts/stage-android-apk-assets.sh"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-2"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-configure-static-asset-serving-so-apk-files-are-not-rewritten-to-the-spa-entry-html-and-are-served-with-an-apk-appropriate-content-type-e-g-application-vnd-android-package-archive-at-assets-primepost-apk",
      "featureTitle": "Configure static asset serving so `.apk` files are not rewritten to the SPA entry HTML and are served with an APK-appropriate Content-Type (e.g., `application/vnd.android.package-archive`) at `/assets/primepost.apk`.",
      "files": [
        "frontend/public/_headers",
        "frontend/public/_redirects",
        "frontend/src/utils/apkIntegrity.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-3"
      ],
      "confidence": "high"
    }
  ]
}