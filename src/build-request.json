{
  "kind": "build_request",
  "title": "Fix runtime error: useLanguage used outside LanguageProvider",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Ensure the React component tree is wrapped in `LanguageProvider` so any call to `useLanguage()` (e.g., in `frontend/src/App.tsx` and `frontend/src/components/layout/AppLayout.tsx`) is always within provider context, eliminating the runtime error \"useLanguage must be used within a LanguageProvider\".",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "It's indicating this error \nuseLanguage must be used within a LanguageProvider"
        ]
      },
      "acceptanceCriteria": [
        "Loading any route (including `/`) no longer throws the error \"useLanguage must be used within a LanguageProvider\" in the browser console.",
        "`useLanguage()` works in `IndexComponent` (home page) and `AppLayout` (header language selector + translated nav/footer) without crashing.",
        "The app renders successfully without requiring changes to immutable provider bootstrap files (e.g., `frontend/src/main.tsx`)."
      ]
    }
  ],
  "constraints": [
    "Do not modify immutable frontend paths: `frontend/src/main.tsx`, `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, and anything under `frontend/src/components/ui`.",
    "Keep all user-facing text in English in the build request."
  ],
  "nonGoals": [
    "Adding new languages or changing translation content/keys.",
    "Changing authentication, routing behavior, or backend canister logic."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}